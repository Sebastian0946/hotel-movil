{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useState, useContext } from 'react';\nimport { fetchCategorias, agregarNuevaCategoria } from \"../../assets/js/Inventario/CategoriaService\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar CategoriaContext = createContext();\nexport var CategoriaProvider = function CategoriaProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    categorias = _useState2[0],\n    setCategorias = _useState2[1];\n  useEffect(function () {\n    fetchCategoriasData();\n  }, []);\n  var fetchCategoriasData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var categoriasData = yield fetchCategorias();\n        categoriasData.sort(function (a, b) {\n          return a.id - b.id;\n        });\n        setCategorias(categoriasData);\n      } catch (error) {\n        console.error('Error al obtener las categorías:', error);\n      }\n    });\n    return function fetchCategoriasData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleGuardar = function () {\n    var _ref3 = _asyncToGenerator(function* (nuevaCategoria) {\n      try {\n        var successMessage = yield agregarNuevaCategoria(nuevaCategoria);\n        if (successMessage) {\n          fetchCategoriasData();\n          return successMessage;\n        } else {\n          console.error('Error al agregar categoría');\n          return false;\n        }\n      } catch (error) {\n        console.error('Error en la solicitud POST:', error);\n        return false;\n      }\n    });\n    return function handleGuardar(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsx(CategoriaContext.Provider, {\n    value: {\n      categorias: categorias,\n      handleGuardar: handleGuardar\n    },\n    children: children\n  });\n};\nexport default CategoriaContext;","map":{"version":3,"names":["React","createContext","useState","useContext","fetchCategorias","agregarNuevaCategoria","jsx","_jsx","CategoriaContext","CategoriaProvider","_ref","children","_useState","_useState2","_slicedToArray","categorias","setCategorias","useEffect","fetchCategoriasData","_ref2","_asyncToGenerator","categoriasData","sort","a","b","id","error","console","apply","arguments","handleGuardar","_ref3","nuevaCategoria","successMessage","_x","Provider","value"],"sources":["C:/Users/cano1/Documents/slide-react/sidebar/controller/Inventario/categoriaController.js"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\r\nimport { fetchCategorias, agregarNuevaCategoria } from '../../assets/js/Inventario/CategoriaService';\r\n\r\nconst CategoriaContext = createContext();\r\n\r\nexport const CategoriaProvider = ({ children }) => {\r\n    \r\n    const [categorias, setCategorias] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchCategoriasData();\r\n    }, []);\r\n\r\n    const fetchCategoriasData = async () => {\r\n        try {\r\n            const categoriasData = await fetchCategorias();\r\n            categoriasData.sort((a, b) => a.id - b.id);\r\n            setCategorias(categoriasData);\r\n        } catch (error) {\r\n            console.error('Error al obtener las categorías:', error);\r\n        }\r\n    };\r\n\r\n    const handleGuardar = async (nuevaCategoria) => {\r\n        try {\r\n            const successMessage = await agregarNuevaCategoria(nuevaCategoria);\r\n            if (successMessage) {\r\n                fetchCategoriasData();\r\n                return successMessage;\r\n            } else {\r\n                console.error('Error al agregar categoría');\r\n                return false;\r\n            }\r\n        } catch (error) {\r\n            console.error('Error en la solicitud POST:', error);\r\n            return false;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <CategoriaContext.Provider value={{ categorias, handleGuardar }}>\r\n            {children}\r\n        </CategoriaContext.Provider>\r\n    );\r\n};\r\n\r\nexport default CategoriaContext;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAClE,SAASC,eAAe,EAAEC,qBAAqB;AAAsD,SAAAC,GAAA,IAAAC,IAAA;AAErG,IAAMC,gBAAgB,GAAGP,aAAa,CAAC,CAAC;AAExC,OAAO,IAAMQ,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAExC,IAAAC,SAAA,GAAoCV,QAAQ,CAAC,EAAE,CAAC;IAAAW,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,UAAU,GAAAF,UAAA;IAAEG,aAAa,GAAAH,UAAA;EAEhCI,SAAS,CAAC,YAAM;IACZC,mBAAmB,CAAC,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMA,mBAAmB;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;MACpC,IAAI;QACA,IAAMC,cAAc,SAASjB,eAAe,CAAC,CAAC;QAC9CiB,cAAc,CAACC,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;UAAA,OAAKD,CAAC,CAACE,EAAE,GAAGD,CAAC,CAACC,EAAE;QAAA,EAAC;QAC1CT,aAAa,CAACK,cAAc,CAAC;MACjC,CAAC,CAAC,OAAOK,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAC5D;IACJ,CAAC;IAAA,gBARKR,mBAAmBA,CAAA;MAAA,OAAAC,KAAA,CAAAS,KAAA,OAAAC,SAAA;IAAA;EAAA,GAQxB;EAED,IAAMC,aAAa;IAAA,IAAAC,KAAA,GAAAX,iBAAA,CAAG,WAAOY,cAAc,EAAK;MAC5C,IAAI;QACA,IAAMC,cAAc,SAAS5B,qBAAqB,CAAC2B,cAAc,CAAC;QAClE,IAAIC,cAAc,EAAE;UAChBf,mBAAmB,CAAC,CAAC;UACrB,OAAOe,cAAc;QACzB,CAAC,MAAM;UACHN,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAC;UAC3C,OAAO,KAAK;QAChB;MACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnD,OAAO,KAAK;MAChB;IACJ,CAAC;IAAA,gBAdKI,aAAaA,CAAAI,EAAA;MAAA,OAAAH,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GAclB;EAED,OACItB,IAAA,CAACC,gBAAgB,CAAC2B,QAAQ;IAACC,KAAK,EAAE;MAAErB,UAAU,EAAVA,UAAU;MAAEe,aAAa,EAAbA;IAAc,CAAE;IAAAnB,QAAA,EAC3DA;EAAQ,CACc,CAAC;AAEpC,CAAC;AAED,eAAeH,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}